# Project 2: Design Journey

**For each milestone, complete only the sections that are labeled with that milestone.** Refine all sections before the final submission. If you later need to update your plan, **do not delete the original plan, leave it place and append your new plan below the original.** Explain why you are changing your plan. Remember you are graded on your design process. Updating the plan documents your process!

**Replace ALL _TODOs_ with your work.** (There should be no TODOs in the final submission.)

Be clear and concise in your writing. Bullets points are encouraged.

**Everything, including images, must be visible in Markdown Preview.** If it's not visible in Markdown Preview, then we won't grade it. We won't give you partial credit either. **Your design journey should be easy to read for the grader; in Markdown Preview the question _and_ answer should have a blank line between them.**


## Design / Plan (Milestone 1)

**Make the case for your decisions using concepts from class, as well as other design principles, theories, examples, and cases from outside of class (includes the design prerequisite for this course).**

You can use bullet points and lists, or full paragraphs, or a combo, whichever is appropriate. The writing should be solid draft quality.

### Audiences (Milestone 1)

> Who are your site's audiences?
> Briefly explain who the intended audiences are for your project website.
> **DO NOT INVENT RANDOM AUDIENCES HERE!** Use the audiences from the requirements.

_Consumer_: Parents with developing children who want to provide high-quality, nature-rich places on a smaller scale around thier homes and communities by picking plants that will provide year-round interest and help engage children in plant play.

_Site Administrator_: Members of the Playful Plants Project from Cornell University that wish to develop a searchable database of playful plants and a web resource for sharing ideas and information with thier consumers (parents, community, educational organizations).


### _Consumer_ Audience Goals (Milestone 1)

> Document your audience's goals.
> List each goal below. There is no specific number of goals required for this, but you need enough to do the job.
> **DO NOT INVENT RANDOM GOALS HERE OR STEREOTYPE HERE!** Your goals are things that your users want accomplish when using the site (e.g. print a list of plants). These are informed by the Playful Plants objectives. Review the assignment's requirements for details.

_Consumer_ Goal 1: Find the plants that fit the requirements they are looking for. (E.g. find a plant that can grow in their weather and supports certain types of play for thier child.)

- **Design Ideas and Choices** _How will you meet those goals in your design?_
  - I will use a media catalog that provides large images that make it easier for the consumer to browse through the database visually. I will have section to let the consumer filter and sort what types of plants are being displayed.
- **Rationale & Additional Notes** _Justify your decisions; additional notes._
  - Images are easier to scan over and will provide the consumer with information about the appearance of the plant since this is an important aspect in their decision of whether they want to plant it or let thier children play with it.

_Consumer_ Goal 2: Gain all the information necessary to know how to take care of a plant.

- **Design Ideas and Choices** _How will you meet those goals in your design?_
  - I will make sure that the details page provides information for basic plant care for all plants.
- **Rationale & Additional Notes** _Justify your decisions; additional notes._
  - The consumer cares about creating nature-rich spaces and likely will want to garden using this data, so to meet this goal I need to provide them with this data. Since there is a lot of data, I will make this information available when the consumer clicks on the plant for more details.

_Consumer_ Goal 3: Print a specific plant's care information

- **Design Ideas and Choices** _How will you meet those goals in your design?_
  - I will make the page for individual plants printer-friendly (smaller image, fit to one standard page).
- **Rationale & Additional Notes** _Justify your decisions; additional notes._
  - The consumer wants to know how to care for the plants that they choose to plant. By providing a way to print the page with care information, they can have this information physically without having to come to the website and search for this plant every time they need to use this information.



### _Consumer_ Persona (Milestone 1)

> Use the goals you identified above to develop a persona of your site's audience.
> Create your persona using GenderMag's customizable personas.
> Take a screenshot and include it here. Persona must be visible in Markdown Preview; do not use PDF format!

![Consumer Persona Ali](/design-plan/persona_consumer1.jpg)


### _Administrator_ Audience Goals (Milestone 1)

> Document your audience's goals.
> List each goal below. There is no specific number of goals required for this, but you need enough to do the job.
> **DO NOT INVENT RANDOM GOALS HERE OR STEREOTYPE HERE!** Your goals are things that your users want accomplish when using the site (e.g. print a list of plants). These are informed by the Playful Plants objectives. Review the assignment's requirements for details.

_Administrator_ Goal 1: Add, Edit, and Delete information from the Playful Plants Database

- **Design Ideas and Choices** _How will you meet those goals in your design?_
  - I will have a link within each plant entry that allows the administrator to edit its information. They will also be able to delete entries in this way. I will have an Add Plant form that allows the user to add information (text, image, etc.) to the database.
- **Rationale & Additional Notes** _Justify your decisions; additional notes._
  - Members of the Playful Plants Project have an objective to develop a database that their consumers can use to find all of the available plants and their traits.

_Administrator_ Goal 2: Filter and Sort the Database

- **Design Ideas and Choices** _How will you meet those goals in your design?_
  - I will have a sidebar that allows them to sort by important information categories such as play type and other tags.
- **Rationale & Additional Notes** _Justify your decisions; additional notes._
  - Members of the Playful Plants Project will want to be able to see what is currently in the database and how many of each plant they may have for each tag. This way they will know what is in the database and can make informed decisions about what needs to be added.

### _Administrator_ Persona (Milestone 1)

> Use the goals you identified above to develop a persona of your site's audience.
> Create your persona using GenderMag's customizable personas.
> Take a screenshot and include it here. Persona must be visible in Markdown Preview; do not use PDF format!

![Administrator Persona Tim](/design-plan/persona_admin1.jpg)


### Site Design (Milestone 1)

> Document your _entire_ design process. **We want to see iteration!**
> **Show us the evolution of your design from your first idea (sketch) to the final design you plan to implement (sketch).**
> **Show us how you decided what data to display to each audience.**
> **Plan your URLs for the site.**
> **Provide a brief explanation _underneath_ each design artifact (2-3 sentences).** Explain what the artifact is, how it meets the goals of your personas (**refer to your personas by name**).
>
> **Important!** Plan _all_ site requirements. Don't forget login and logout.

_Initial Designs / Design Iterations:_

![Consumer View Sketch 1](/design-plan/consumersketch1.jpeg)

I sketched two designs (seperated by pink line). Since this is a mobile site, Abi would prefer the right sketch with the Sort as a dropdown and Filter as a hamburger menu. This is because it makes the site more usable and follows common design patterns so she is less likely to give-up on using this technology. Additionally, the hamburger menu appears when tapping the "Filter By" button and will include instructions on how to use the filtering system. The small tiles rather than an aside column is better fit for smaller screens, which Abi will be using to view this site. Additionally, being able to view the plants visually first is more helpful and usable than including all plant details on the screen at once, which is likely to confuse and overwhelm her.

![Admin View Sketch 1](/design-plan/adminsketch1.jpeg)

My first itteration of the administrator view of the website was to have a sidebar similar to Project 2 and have long tiles in the main body of the website. There is a seperate page for the login page and there are buttons (once logged in) to edit or delete plants.

![Admin View Sketch 2](/design-plan/adminsketch2.jpeg)

I itterated the administrator view to instead have square tiles with information under them like the consumer view. This gives Tim a better idea of how the information will be displayed on the consumer view version of the website without logging out. The first box is a button to add a new plant, which is a form on a seperate page. This follows common design patterns I have seen before on gallery websites and applications, which Tim is likely familiar with.

![Admin View Sketch 2 Edit and Confirmation Pages](/design-plan/adminsketch2_editandconfirmation.jpeg)

After clicking on the Edit button on a plant's tile, the link opens that plant's details page as a form with its existing data values in the form values. After a plant is added, there is a confirmation page that allows Tim to either add another plant or navigate back to the catalog page.

![Admin View Sketch 2 Edit page Itteration 2](/design-plan/adminsketch2_edit2.jpeg)

An alternative design for the edit page is to have each field have an "edit" button next to it that must be clicked to display the text field or dropdown form. This may avoid logistic difficulties because it can prevent Tim from accidentally changing information he didn't mean to change, but also may be difficult to code and allow for multiple fields to be changed at once, so I am not sure if this is the design I want to go with.

![Consumer View Home Page Itteration 3](/design-plan/consumersketch3.jpeg)

This itteration of my Consumer View eliminates the hamburger menu and print button. I made this change because Abi does not need to be able to print the catalog as a consumer (this is only a goal of the administrator). Additionally, hiding the sort features in a hamburger menu would likely confuse Abi, since it is very likely she will want to use the sort and filter features to fulfil her needs. Having these on display (including the instruction on how to use the features) as soon as she loads the webpage would be more usable for her.

_Final Design:_

![Consumer View Sketch 3](/design-plan/consumersketch3.jpeg)

I itterated my first and second sketches to include more instructions and clarification for features on the website to aid Abi and her cognitive styles. This information will not only make her feel more comfortable clicking on certain buttons/links and feel informed, but also supports her comprehensive information proccessing style. Additionally, it removes the hamburger menu and instead displays the important features that Abi cares about, the sort and filter form, as soon as the webpage loads.

![Admin View Sketch 3](/design-plan/adminsketch3.jpeg)

I itterated my sketch for the admin view slightly so now the delete button is in the upper right corner of the catalog entry box. It is one of Tom's goals to be able to delete entries, and this was previously not designed. By putting it in the top right, it mimics a "close browser" button. Additionally, the filter form only includes play type, since this is the feature Tim would want to filter data by.

![Admin View Add Form](/design-plan/admin_addform.jpg)

The add form design above is my second itteration. Tom will be able to enter new values here, including uploading a new image (which is required). There will be a confirmation message at the top of this page to inform Tom that the plant has been added.

![Admin View Edit Plant Form](/design-plan/admin_edit.jpg)

Tom will be able to see the current plant's existing data and tags on this page displayed within each form element. This provides usability to only edit certain fields with other fields staying sticky. It will also allow Tom to slightly modify text as opposed to have to remember and type the entire string of text again. Instead of a seperate confirmation page or hiding the edit form after the changes have been made (as seen in my previous sketches), there will be a confirmation message at the top of this page to inform Tom that the plant has been added. The form will have sticky values that display the changes Tom has made in case he needs to check over the saved changes.


![Login Page](/design-plan/loginsketch.jpg)

The login page will be a seperate page with only the login form. It will only be accessible when the user isn't logged in.


### Design Pattern Explanation/Reflection (Milestone 1)

> Write a one paragraph (6-8 sentences) reflection explaining how you used design patterns for media catalogs in your site's final design.

My design reflects common media catalog design patterns by implementing image tiles with short captions that expand into more detailed pages. I based this off of the small-screen version of the seedsavers.org website. This website similarly as a seperate login page, as do most websites that implmenet catalogs such as online shopping sites or Instagram. When given the ability to edit a post on Instagram or a blog, it presents the user with a form that has existing data within the form fields already, which is why the Edit page for Tim will has a similar pattern. I decided to have the Add Plant "button" be an empty tile following the design patterns I see on other gallery editing websites, such as on Notion, but instead put this button at the top because the Playful Plants Project will have too many entries to put this "add plant" tile at the bottom of the page.


### Cognitive Styles Explanation/Reflection (Milestone 1)

> Write a one paragraph (6-8 sentences) reflection explaining how your final design supports the cognitive styles of each persona.

_Consumer Cognitive Styles Reflection:_

Abi feels comfortable with technologies she has used before, so I am implementing similar design patterns to other websites to make it less likely she gives up on using the website due to confusion. Additionally, a lot of information is included on the page to give instructions to what the "Sort By" and "Filter By" Buttons do so that although she is risk averse, she feels comfortable and understands what will happen when she uses these features. Instructions will be provided to explain to Abi that detailed information on the plant's care can be found by clicking on the plant's image/name. By providing these instructions and information, not only does it aid her in regards to her risk averse, low computer self-efficacy, and learning by process cognitive styles, but it also synergizes with her comprehensive information processing style since this important information will all be at the top of the page and easy to read over before proceeding down the page. This will give her information about how to accomplish her tasks/goals with technology in a straightforward way that prevents her from wasting time.


_Site Administrator Cognitive Styles Reflection:_

Tim enjoys tinkering and has a selective learning style. My design uses headers and properly labeled buttons that follow common design patterns to give Tim promising leads. Although Tim does have tasks and goals to accomplish as a member of the Playful Plants Project, he enjoys exploring new technologies and finding shortcuts, so by using valid HTML formatting he has the opportunity and use the features of his web browser to better tinker with the features of the website.


## Implementation Plan (Milestone 1, Milestone 2, Milestone 3, Final Submission)

### Database Schema (Milestone 1)

> Describe the structure of your database. You may use words or a picture. A bulleted list is probably the simplest way to do this. Make sure you include constraints for each field.
> **Hint: You probably need a table for "entries", `tags`, `"entry"_tags`** (stores relationship between entries and tags), and a `users` tables.
> **Hint: For foreign keys, use the singular name of the table + _id.** For example: `image_id` and `tag_id` for the `image_tags` (tags for each image) table.

//these field names are long, but in my code I will have to shorten the HTTP parameter versions of them for URL purposes

Table: plants

- id: INTEGER {PK, U, NN, AI},
- name: TEXT {NN},
- sci_name: TEXT {U, NN},
- pp_id: TEXT {U, NN}, //playful plants ID
- exploratory_constructive: INTEGER {NN}
- exploratory_sensory: INTEGER {NN}
- physical: INTEGER {NN}
- imaginative: INTEGER {NN}
- restorative: INTEGER {NN}
- expressive: INTEGER {NN}
- play_with_rules: INTEGER {NN}
- bio: INTEGER {NN}
- hardiness_level: TEXT {NN}

// tags for sorting for consumers, such as classification and growing needs

Table: tags

- id: INTEGER {PK, U, NN, AI},
- tag_name: TEXT {U, NN}

Table: entry_tags

- id: INTEGER {PK, U, NN, AI},
- plant_id: INTEGER {}
- tag_id: INTEGER {}

Table: users

- id: INTEGER {PK, U, NN, AI},
- username: TEXT {U, NN},
- password: TEXT {NN}
- isadmin: INTEGER {NN}

Table: documents

- id: INTEGER {PK, U, NN, AI},
- file_name: TEXT {NN},
- file_ext: TEXT {NN}

Table: sessions

- id: INTEGER {PK, U, NN, AI},
- user_id: INTEGER {NN}
- session: TEXT {NN, U}
- last_login: TEXT {NN}

### Database Query Plan (Milestone 1, Milestone 2, Milestone 3, Final Submission)

> Plan _all_ of your database queries. You may use natural language, pseudocode, or SQL.

```SQL
/*Getting all plants data (consumer and administrator):*/

SELECT * FROM plants;
```

```SQL
/*Ordering displayed plants (consumer and administrator):*/

SELECT * FROM plants ORDER BY $orderfield_and_direction;
  e.g. SELECT * FROM plants ORDER BY name ASC;
```

```SQL
/*Ordering and Filtering plants (consumer):*/

SELECT * FROM plants JOIN entry_tags ON plants.id=entry_tags.plant_id ORDER BY $orderfield_and_direction WHERE $filter_conditions;
  e.g. SELECT * FROM plants JOIN entry_tags ON plants.id=entry_tags.plant_id ORDER BY name ASC WHERE tag_id=1;
  (Not too sure about how joins work yet.)
```

```SQL
/*Ordering and Filtering plants (admin):*/

SELECT * FROM plants ORDER BY $orderfield_and_direction WHERE $filter_conditions;
  e.g. SELECT * FROM plants ORDER BY name ASC WHERE ex_c=1 OR ex_s=1;
```

```SQL
/*Getting a specific plant's tags:*/

SELECT
  plants.id AS 'plants.id',
  tags.name AS 'tags.name'
FROM plants INNER JOIN entry_tags ON (plants.id = entry_tags.plant_id) INNER JOIN tags ON (entry_tags.tag_id = tags.id)
WHERE (plants.id = 1);
```

```SQL
/*Whether user is admin (and authorized to view something)*/
$is_admin = exec_sql_query($db,
"SELECT is_admin FROM users WHERE (session = :session)",
array(
  ':session' => $active_cookie
)) -> fetchAll();
```

### Code Planning (Milestone 1, Milestone 2, Milestone 3, Final Submission)

> Plan any PHP code you'll need here using pseudocode.
> Tip: Break this up by pages. It makes it easier to plan.

```PHP
//Administrator Catalog Page (use existing code and variables from project 2)

sort/filter form:
if(form is submitted){
  set sticky values to user inputted values (do this any time form is submitted)
  requery using inputted values to indicate WHERE clause (using parameter markers)
  //initial parts
  $select_part = "SELECT * FROM plants ";
  $order_part = " ORDER BY ";
  $where_part = "";
  $order_part2 = "";
  //create list for SQL conditional expressions:
  $filter_exprs = array();
  if (checkbox to filter by exploratory constructive play){
    //append SQl conditional expression to list:
    array_push($filter_exprs, "(exploratory_constructive = 1)");
  }
  ...do this for all 8 checkboxes
  if (count($filter_exprs) > 0){
    $where_part = "WHERE " . implode(' OR ', $filter_exprs);
  }
  if(sortby_name is selected){
    array_push($sort_exprs, "name")
  }
  ...do this for sortby_sci_name and sortby_plant_id
  $query = $select_part + $where_part + $order_part + $order_part2;
}
```

```PHP
//Administrator Add New Plant Page (use existing code and variables from project 2)

//Add Plant Form:
if(form is submitted){
  if(name/sci_name/pp_id is empty){  //3 seperate if statements
    form not valid
    show name/sci_name/pp_id feedback
  }
  if(sci name/pp_id is not unique){ //2 seperate if statements
    form not valid
    show sci name feedback for non-unique
  }
  if(form is valid){
    $result = exec_sql_query(
      $db,
      "INSERT INTO plants (name, sci_name, plant_id, exploratory_constructive, exploratory_sensory, physical, imaginative, resotrative, expressive, play_with_rules, bio) VALUES (:name, :sci_name, :plant_id, :ex_con, :ex_sen, :phys, :imag, :rest, :exp, :rules, :bio;",
      array(
        ':name' => $name,
        ':sci_name' => $sci_name,
        ':plant_id' => $plant_id,
        ':ex_con' => $exploratory_constructive == 'checked' ? '1' : '0');
        ...continue for other checkboxes
      )
    if($result){ //use to restyle the whole page to a confirmation message (or make new page?)
      $result_inserted=True;
    }
    );
  }
  else{ //if form is not valid
    sticky_name = users name input
    sticky_sci_name = users sci_name input
    sticky_plantid = users plantid input
    sticky_exploratory_constructive = checked/unchecked based on user input
    ... continues for all other checkboxes
  }
```

```PHP
//Login Page

//Username/Password form:
if(form is submitted){
  if(username/password is empty){  //2 seperate if statements
    form not valid
    show username/password feedback
  }
  if(form is valid){
    //check if username and password is valid using exec_sql_query and counting?
  }
    if(login was successful){
      change the website to administrator mode
    }
    );
  }
  else{ //if form is not valid
    sticky_username = input from user
    //don't make password sticky
  }
```

```PHP
/*Admin View of Details Page after clicking "Edit"*/

/*grab all of the relevant fields for that particular plant
set all of the form value= to the values from the database*/
if(form submitted){
  make sure all fields are valid (no nulls or uniques (other than itself?), similar to Add Plant validity)
  if(form valid){
    save changes (either by using some SQL edit function OR delete existing and resave as if adding a new plant)
  }
  if(changes were successful){
    show confirmation message
  }
}
```

```PHP
/*Consumer Catalog View*/

//sort/filter form:
if(form is submitted){
  //set sticky values to user inputted values (do this any time form is submitted)
  //requery using inputted values to indicate WHERE clause (using parameter markers)
  //create list to append all of the SQL filter conditions
  if (radio button for a certain tag){
    append SQl conditional expression "id = #" to list
  }
  ...do this for all filters
  if (count($filter_exprs) > 0){
    $where_part = "WHERE " . implode(' AND ', $filter_exprs);
  }
  if(sortby_name/sort_by_sci_name is selected){ //2 seperate if statements
    array_push($sort_exprs, "name")
  }
  $query = $select_part + $where_part + $order_part + $order_part2;
  //the where_part will be like: "id=1 AND id=15" to search for only plants that are both shrubs and annual
}
```

```PHP
/*Printing catalog using flexbox with 2 plant entries per row*/

<?php
$counter = 0;
foreach($records as $record){
  $query_string = http_build_query(array(
      'pp_id' => $record['pp_id'] (or use some other more appropriate query parameter)
    ));
?>
      <?php if($counter%2==0) echo '<div class="rows">'; ?> //open div if first entry
        //print content for that entry
      <?php if($counter%2!=0) echo "</div>" ?> //close div if second entry
    <?php $counter=$counter+1;} ?> //increase counter after each foreach record entry

} //close for each loop

```

```PHP
/*Printing tags on plants detail page*/
 <?php
         foreach($tags as $tag){
            echo "<p class='tag'>";
            echo htmlspecialchars($tag['tags.name']);
            echo "</p>";
         }
        ?>
```

```PHP
/*Implementing Login*/
//In router.php:
  require_once('includes/db.php');
  $db = init_sqlite_db('db/site.sqlite','db/init.sql');
  $admin = ($isadmin==1)
    //where $isadmin is the users['isadmin'] field
  include_once('includes/sessions.php');
  $session_messages=array();
  process_session_params($db, $session_messages);

//Login Page
<?php if (!is_user_logged_in()){
  echo login_form('/admin', $session_messages)
} ?>

//Logout
<?php if (is_user_logged_in()){?>
  <a href=<?php echo logout_url(); ?>>Log Out</a>
<?php } ?>
```

### Accessibility Audit (Final Submission)

> Tell us what issues you discovered during your accessibility audit.
> What do you do to improve the accessibility of your site?

Through my accessibility audit I found some contrast errors in my navigation. Additionally, I found some errors such as orphaned form elements due to typos. I fixed these by adjusting the colors (using black instead of white) and fixing the form typos.


## Reflection (Final Submission)

### Audience (Final Submission)
> Tell us how your final site meets the goals of your audiences. Be specific here. Tell us how you tailored your design, content, etc. to make your website usable for your personas.

TODO


### Additional Design Justifications (Final Submission)
> If you feel like you haven’t fully explained your design choices in the final submission, or you want to explain some functions in your site (e.g., if you feel like you make a special design choice which might not meet the final requirement), you can use the additional design justifications to justify your design choices. Remember, this is place for you to justify your design choices which you haven’t covered in the design journey. You don’t need to fill out this section if you think all design choices have been well explained in the design journey.

My consumer and admin gallery view show a similar design format. This is on purpose to provide the admin with a similar feel to what the user will be able to see so they can check whether information is added and looks good. This is important because Tim does not naturally have access to the consumer gallery view while he is logged in. Rather, the gallery view is like an admin-only portal. This is important because if I instead used a table to display the information, the image would not be clearly displayed and the admin would not be able to see what the existing image looks like. This design provides adequate information for Tim without needing to see the original consumer gallery page. The admin gallery view provides customized filtering by play type (which Tim needs to accomplish his goals) instead of by gardening tags (which Abi needs to accomplish her goals). In this way the two pages are customized to provide tools necessary for their particular audience.

Additionally, due to my milestone 3 feedback, I would like to justify my "add plant" feature on my admin gallery view. I found that this format of a picture-like add button does fit common design patterns across the web. For example, Google Docs, the Google Chrome "Add Shortcut" button when opening a new tab, and in Notion to add a new gallery entry.

![Screenshots from Google Docs, Google Chrome New Tab, and Personal Notion](/design-plan/addplant_designpattern.jpg)

These screenshots come from [Google Docs](https://docs.google.com/document/u/0/), Google Chrome's New Tab page, and my personal [Notion](https://www.notion.so/)


### Self-Reflection (Final Submission)
> Reflect on what you learned during this assignment. How have you improved from Project 2? What would you do differently next time?

TODO


> Take some time here to reflect on how much you've learned since you started this class. It's often easy to ignore our own progress. Take a moment and think about your accomplishments in this class. Hopefully you'll recognize that you've accomplished a lot and that you should be very proud of those accomplishments!

TODO


### Grading: Step-by-Step Instructions (Final Submission)
> Write step-by-step instructions for the graders.
> The project if very hard to grade if we don't understand how your site works.
> For example, you must login before you can delete.
> For each set of instructions, assume the grader is starting from /

_View all entries:_

1. TODO
2.

_View all entries for a tag:_

1. TODO
2.

_View a single entry's details:_

1. TODO
2.

_How to insert and upload a new entry:_

1. TODO
2.

_How to delete an entry:_

1. TODO
2.

_How to edit and existing entry and its tags:_

1. TODO
2.
